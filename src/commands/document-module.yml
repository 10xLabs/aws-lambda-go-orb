description: >
  This command creates module documentation

parameters:
  module_name:
    type: string
  module_path:
    type: string

steps:
  # - run:
  #     name: Check module file changes
  #     environment:
  #       MODULE_PATH: << parameters.module_path >>
  #     command: << include(scripts/check_module_file_changes.sh) >>
  - run:
      name: Generate documentation
      environment:
        MODULE_NAME: << parameters.module_name >>
        MODULE_PATH: << parameters.module_path >>
      command: << include(scripts/generate_documentation.sh) >>
  - run:
    name: Install AWS CLI
    command: << include(scripts/install_aws_cli.sh) >>
  - run:
    name: Copy documentation
    command: << include(scripts/copy_documentation.sh) >>
